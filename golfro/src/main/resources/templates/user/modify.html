<!DOCTYPE html>
<html xmlns:th="http://www.thymleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>회원정보｜GOLFRO</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous" />
    <link rel="stylesheet" href="../css/user_modify.css" />    
</head>
<body>
    <header th:replace="~{fragments/header :: header}"></header>

    <div class="container" id="mypage">
        <div class="row">
            <th:block th:replace="~{fragments/menu :: menu}"></th:block>

            <div class="col-8">
                <div class="card" id="card">
                    <div class="card-header" id="login-info">
                        <h3>내 정보 수정</h3>
                    </div>
                    <div class="card-body" th:object="${user}">
                        <form id="modifyForm">
                            <div class="mt-2">
                                <label class="form-label" for="userid">아이디</label>
                                <input class="form-control" type="text" id="userid" name="userid" th:value="*{userid}" readonly />
                            </div>
                            <div class="mt-2">
                                <label class="form-label" for="password">비밀번호</label>
                                <input class="form-control" id="password" type="text" name="password" th:value="*{password}" readonly />
                                <input class="form-control mt-1" id="changePassword" type="password" name="changePassword" placeholder="8~15자의 숫자, 특수문자, 영문자 조합" />
                                <div id="passwordStrength"></div>
                            </div>
                            <div class="mt-2">
                                <label class="form-label" for="name">이름</label>
                                <input class="form-control" id="name" type="text" name="name" th:value="*{name}" readonly />
                            </div>
                            <div class="mt-2">
                                <label class="form-label" for="birth">생년월일</label>
                                <input class="form-control" type="text" id="birth" name="birth" th:value="${#dates.format(user.birth, 'yyyy.MM.dd')}" readonly />
                            </div>
                            <div class="mt-2">
                                <label class="form-label" for="gender">성별</label>
                                <div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="gender" id="maleRadio" value="1" th:checked="*{gender == 1}" />
                                        <label class="form-check-label" for="maleRadio">남자</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="gender" id="femaleRadio" value="2" th:checked="*{gender == 2}" />
                                        <label class="form-check-label" for="femaleRadio">여자</label>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-2">
                                <label class="form-label" for="phone">휴대폰 번호</label>
                                <div class="flex">
                                    <select class="form-select" name="carrier" style="width: 20%">
                                        <option value="SKT" th:selected="*{#strings.split(phone, '/')[0] == 'SKT'}">SKT</option>
                                        <option value="KT" th:selected="*{#strings.split(phone, '/')[0] == 'KT'}">KT</option>
                                        <option value="LG_U+" th:selected="*{#strings.split(phone, '/')[0] == 'LG_U+'}">LG U+</option>
                                        <option value="SKT_ALTTEUL" th:selected="*{#strings.split(phone, '/')[0] == 'SKT_ALTTEUL'}">SKT 알뜰폰</option>
                                        <option value="KT_ALTTEUL" th:selected="*{#strings.split(phone, '/')[0] == 'KT_ALTTEUL'}">KT 알뜰폰</option>
                                        <option value="LG_U+_ALTTEUL" th:selected="*{#strings.split(phone, '/')[0] == 'LG_U+_ALTTEUL'}">LG U+ 알뜰폰</option>
                                    </select>
                                    <input class="form-control" type="text" id="phone" name="number" th:value="*{#strings.split(phone, '/')[1]}" />
                                </div>
                            </div>
                            <div class="mt-2">
                                <label class="form-label" for="email">이메일</label>
                                <input class="form-control" id="email" type="email" name="email" th:value="*{email}" readonly />
                            </div>
                            <div class="mt-2">
                                <label class="form-label" for="mainAddress">주소</label>
                                <div class="flex">
                                    <input class="form-control" type="text" id="postcode" name="postcode" size="5" th:value="*{#strings.split(address, '/')[0]}" style="width: 15%" readonly />
                                    <input class="form-control" id="btnAddressSearch" type="button" value="우편번호검색" style="width: 15%" />
                                </div>
                                <input class="form-control mt-1" type="text" id="mainAddress" name="mainAddress" size="50" th:value="*{#strings.split(user.address, '/')[1]}" readonly />
                                <input class="form-control mt-1" type="text" id="detailAddress" name="detailAddress" th:value="*{#strings.split(address, '/')[2]}" />
                            </div>
                            <th:if test="${session.signedInUserGrade eq 'G10'}">
                                <div class="mt-2">
                                    <label class="form-label" for="license">라이센스</label>
                                    <input class="form-control" id="license" type="text" name="license" th:value="*{license}" />
                                </div>
                                <div class="mt-2">
                                    <label class="form-label" for="account">어카운트</label>
                                    <div class="flex">
                                        <select class="form-select" name="bank" size="1" style="width: 20%">
                                            <option value="" th:selected="*{#strings.split(account, '/')[0] == ''}">선택</option>
                                            <option value="KWANGJU" th:selected="*{#strings.split(account, '/')[0] == 'KWANGJU'}">광주</option>
                                            <option value="BNK" th:selected="*{#strings.split(account, '/')[0] == 'BNK'}">경남</option>
                                            <option value="KB" th:selected="*{#strings.split(account, '/')[0] == 'KB'}">국민</option>
                                            <option value="IBK" th:selected="*{#strings.split(account, '/')[0] == 'IBK'}">기업</option>
                                            <option value="NH" th:selected="*{#strings.split(account, '/')[0] == 'NH'}">농협</option>
                                            <option value="DGB" th:selected="*{#strings.split(account, '/')[0] == 'DGB'}">대구</option>
                                            <option value="BUSAN" th:selected="*{#strings.split(account, '/')[0] == 'BUSAN'}">부산</option>
                                            <option value="KDB" th:selected="*{#strings.split(account, '/')[0] == 'KDB'}">산업</option>
                                            <option value="MG" th:selected="*{#strings.split(account, '/')[0] == 'MG'}">새마을금고</option>
                                            <option value="SH" th:selected="*{#strings.split(account, '/')[0] == 'SH'}">수협</option>
                                            <option value="SOL" th:selected="*{#strings.split(account, '/')[0] == 'SOL'}">신한</option>
                                            <option value="ShinHyup" th:selected="*{#strings.split(account, '/')[0] == 'ShinHyup'}">신협</option>
                                            <option value="WOORI" th:selected="*{#strings.split(account, '/')[0] == 'WOORI'}">우리</option>
                                            <option value="PO" th:selected="*{#strings.split(account, '/')[0] == 'PO'}">우체국</option>
                                            <option value="JB" th:selected="*{#strings.split(account, '/')[0] == 'JB'}">전북</option>
                                            <option value="kakao" th:selected="*{#strings.split(account, '/')[0] == 'kakao'}">카카오뱅크</option>
                                            <option value="Toss" th:selected="*{#strings.split(account, '/')[0] == 'Toss'}">토스</option>
                                            <option value="KEB" th:selected="*{#strings.split(account, '/')[0] == 'KEB'}">하나</option>
                                            <option value="SC" th:selected="*{#strings.split(account, '/')[0] == 'SC'}">SC제일</option>
                                        </select>
                                        <input class="form-control" type="text" id="account" name="bank_account" th:value="*{#strings.split(account, '/')[1]}" />
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <label class="form-label" for="point">포인트</label>
                                    <input class="form-control" id="point" name="point" type="text" th:value="*{point}" readonly />
                                </div>
                            </th:if>
                            <div class="mt-2">
                                <label class="form-label" for="grade">등급</label>
                                <input class="form-control" id="grade" name="grade" type="text" 
                                    th:value="*{grade == 'G00' ? '관리자' : 
                                                grade == 'G10' ? '프로' : 
                                                grade == 'G21' ? '일반회원' : 
                                                grade == 'G22' ? '우수회원' : 
                                                grade == 'G23' ? '최우수 회원' : 
                                                '특별 회원'}"
                                readonly />
                            </div>
                        </form>
                    </div>
                    <div class="card-footer" id="card-footer">
                        <button id="btnUpdate" class="btn">저장</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>

    <!-- Axio JS 라이브러리 -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

    <script th:src="@{/js/user_profile_modify.js}"></script>
</body>
</html>
